{"ast":null,"code":"import axios from 'axios';\nconst API_URL = process.env.REACT_APP_API_URL;\nexport const login = async (email, password) => {\n  const res = await axios.post(`${API_URL}/auth/login`, {\n    email,\n    password\n  });\n  // Update here to correctly store the tokens and user data\n  localStorage.setItem('accessToken', res.data.accessToken);\n  localStorage.setItem('refreshToken', res.data.refreshToken);\n  // Assuming the backend should also return the user info, update it if necessary\n  // localStorage.setItem('user', JSON.stringify(res.data.user));\n  return res.data;\n};\nexport const register = async (username, email, password) => {\n  const res = await axios.post(`${API_URL}/auth/register`, {\n    username,\n    email,\n    password\n  });\n  return res.data.user;\n};\nexport const getUserInfo = () => {\n  return JSON.parse(localStorage.getItem('user'));\n};\nexport const logout = () => {\n  localStorage.removeItem('token');\n  localStorage.removeItem('refreshToken');\n  localStorage.removeItem('user');\n};","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_URL","login","email","password","res","post","localStorage","setItem","data","accessToken","refreshToken","register","username","user","getUserInfo","JSON","parse","getItem","logout","removeItem"],"sources":["D:/micro-auth/frontend/src/services/authService.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL;\r\n\r\nexport const login = async (email, password) => {\r\n  const res = await axios.post(`${API_URL}/auth/login`, { email, password });\r\n  // Update here to correctly store the tokens and user data\r\n  localStorage.setItem('accessToken', res.data.accessToken);\r\n  localStorage.setItem('refreshToken', res.data.refreshToken);\r\n  // Assuming the backend should also return the user info, update it if necessary\r\n  // localStorage.setItem('user', JSON.stringify(res.data.user));\r\n  return res.data;\r\n};\r\n\r\nexport const register = async (username, email, password) => {\r\n  const res = await axios.post(`${API_URL}/auth/register`, { username, email, password });\r\n  return res.data.user;\r\n};\r\n\r\nexport const getUserInfo = () => {\r\n  return JSON.parse(localStorage.getItem('user'));\r\n};\r\n\r\nexport const logout = () => {\r\n  localStorage.removeItem('token');\r\n  localStorage.removeItem('refreshToken');\r\n  localStorage.removeItem('user');\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB;AAE7C,OAAO,MAAMC,KAAK,GAAG,MAAAA,CAAOC,KAAK,EAAEC,QAAQ,KAAK;EAC9C,MAAMC,GAAG,GAAG,MAAMR,KAAK,CAACS,IAAI,CAAC,GAAGR,OAAO,aAAa,EAAE;IAAEK,KAAK;IAAEC;EAAS,CAAC,CAAC;EAC1E;EACAG,YAAY,CAACC,OAAO,CAAC,aAAa,EAAEH,GAAG,CAACI,IAAI,CAACC,WAAW,CAAC;EACzDH,YAAY,CAACC,OAAO,CAAC,cAAc,EAAEH,GAAG,CAACI,IAAI,CAACE,YAAY,CAAC;EAC3D;EACA;EACA,OAAON,GAAG,CAACI,IAAI;AACjB,CAAC;AAED,OAAO,MAAMG,QAAQ,GAAG,MAAAA,CAAOC,QAAQ,EAAEV,KAAK,EAAEC,QAAQ,KAAK;EAC3D,MAAMC,GAAG,GAAG,MAAMR,KAAK,CAACS,IAAI,CAAC,GAAGR,OAAO,gBAAgB,EAAE;IAAEe,QAAQ;IAAEV,KAAK;IAAEC;EAAS,CAAC,CAAC;EACvF,OAAOC,GAAG,CAACI,IAAI,CAACK,IAAI;AACtB,CAAC;AAED,OAAO,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAC/B,OAAOC,IAAI,CAACC,KAAK,CAACV,YAAY,CAACW,OAAO,CAAC,MAAM,CAAC,CAAC;AACjD,CAAC;AAED,OAAO,MAAMC,MAAM,GAAGA,CAAA,KAAM;EAC1BZ,YAAY,CAACa,UAAU,CAAC,OAAO,CAAC;EAChCb,YAAY,CAACa,UAAU,CAAC,cAAc,CAAC;EACvCb,YAAY,CAACa,UAAU,CAAC,MAAM,CAAC;AACjC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}